# 甜品店管理系统 - 前端

基于 Vite + React 的甜品店库存和采购管理系统前端。

## 功能模块

### 1. 基础设置 (Admin Setup)
- **单位管理**: 创建和管理计量单位（如：克、千克、个等）
- **分类管理**: 创建和管理原料/半成品分类
- **批量创建原料**: 通过文本格式批量导入原料信息
- **批量创建半成品**: 通过文本格式批量导入半成品信息

### 2. 采购管理 (Purchase Order)
- **创建采购单**: 多行采购项，支持不同供应商
- **采购单列表**: 查看所有历史采购单
- **采购单详情**: 查看采购单明细和供应商信息
- 自动计算采购金额和小计

### 3. 库存管理 (Inventory)
- **库存列表**: 查看所有库存记录
- **分组显示**: 按位置或补货状态分组
- **排序功能**: 按实际库存、标准库存或更新时间排序
- **更新库存**: 直接编辑实际库存数量
- **库存预警**: 自动标记需要补货的库存项
- **创建库存**: 为新原料初始化库存记录

## 技术栈

- **React 18**: 前端框架
- **Vite**: 构建工具
- **React Router**: 路由管理
- **Axios**: HTTP 请求
- **CSS Modules**: 样式管理

## 安装和运行

### 安装依赖
```bash
cd frontend
npm install
```

### 开发模式
```bash
npm run dev
```
访问 http://localhost:5173

### 生产构建
```bash
npm run build
```

### 预览生产构建
```bash
npm run preview
```

## API 配置

前端通过 Vite 代理连接后端 API：
- 开发环境：`/api` 代理到 `http://localhost:8000`
- 生产环境：需要配置 Nginx 或其他反向代理

配置文件：`vite.config.js`

## 项目结构

```
frontend/
├── src/
│   ├── pages/              # 页面组件
│   │   ├── AdminSetup.jsx  # 基础设置页面
│   │   ├── AdminSetup.css
│   │   ├── PurchaseOrder.jsx  # 采购管理页面
│   │   ├── PurchaseOrder.css
│   │   ├── Inventory.jsx   # 库存管理页面
│   │   └── Inventory.css
│   ├── services/           # API 服务
│   │   └── api.js         # Axios 配置和 API 接口
│   ├── App.jsx            # 主应用组件（路由）
│   ├── App.css            # 全局样式
│   ├── main.jsx           # 入口文件
│   └── index.css          # 基础样式
├── index.html             # HTML 模板
├── package.json           # 依赖配置
└── vite.config.js        # Vite 配置
```

## 使用说明

### 1. 基础设置流程
1. 创建单位（如：克、个、毫升）
2. 创建分类（如：水果、乳制品、酱料）
3. 批量创建原料（格式：名称,分类,单位,品牌,阈值）
4. 批量创建半成品（格式：名称,分类,单位,阈值）

### 2. 采购流程
1. 点击"新建采购单"
2. 选择原料、单位、输入数量和单价
3. 可为每个采购项指定不同的供应商
4. 点击"添加采购项"增加更多项目
5. 提交采购单

### 3. 库存管理流程
1. 为新原料创建库存记录
2. 使用分组和排序功能查看库存
3. 直接编辑实际库存数量
4. 系统自动标记需要补货的项目

## 批量创建格式示例

### 原料批量创建
```
草莓,水果,克,新鲜果园,50
蓝莓,水果,克,进口品牌,30
黄油,乳制品,克,安佳,100
```

### 半成品批量创建
```
草莓酱,酱料,克,200
蓝莓酱,酱料,克,150
奶油,乳制品,克,100
```

## 特色功能

### 库存分组
- **按位置分组**: 方便仓库管理和盘点
- **按补货状态分组**: 快速识别需要补货的项目

### 库存排序
- **按实际库存排序**: 找出库存最低的项目
- **按标准库存排序**: 了解库存配置
- **按更新时间排序**: 追踪最近的库存变动

### 库存预警
- 自动根据原料阈值计算是否需要补货
- 低库存项目高亮显示
- 状态标签清晰展示（充足/正常/需要补货）

## 开发注意事项

1. 确保后端 API 服务运行在 `http://localhost:8000`
2. API 路径以 `/api` 开头会自动代理到后端
3. 所有 API 请求自动添加 token（如果存在）
4. 401 错误会自动跳转到登录页

## 待实现功能

- [ ] 用户认证和登录页面
- [ ] 权限管理（RBAC）
- [ ] 数据导出功能（Excel/CSV）
- [ ] 库存变动历史记录
- [ ] 采购单审批流程
- [ ] 供应商管理模块
- [ ] 数据可视化（图表）
- [ ] 移动端适配优化
